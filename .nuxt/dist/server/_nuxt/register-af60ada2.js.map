{"version":3,"file":"register-af60ada2.js","sources":["../../../../pages/user/register.vue"],"sourcesContent":["<template>\r\n  <Head>\r\n    <Title>{{ $t(\"Register\") }} - Geccele</Title>\r\n    <Meta name=\"description\" content=\"Register\"> </Meta>\r\n  </Head>\r\n  <div class=\"container-fluid px-0 overflow-hidden\">\r\n    <!-- <div v-if=\"CookieInProgress\">\r\n      <Loading />\r\n    </div> -->\r\n    <section class=\"register\">\r\n      <div class=\"container-fluid h-custom px-0\">\r\n        <div class=\"row d-flex justify-content-center align-items-center px-0\">\r\n          <div class=\"col-lg-6 px-0 d-none d-lg-block\">\r\n            <img\r\n              src=\"/assets/images/user/login-cover.jpeg\"\r\n              class=\"img-fluid\"\r\n              alt=\"register\"\r\n            />\r\n          </div>\r\n          <div class=\"col-lg-6 form\">\r\n            <h2>{{ $t(\"Register\") }}</h2>\r\n            <hr />\r\n            <form>\r\n              <div class=\"row\">\r\n                <div class=\"col-lg-6\">\r\n                  <div class=\"form-outline mb-3\">\r\n                    <label class=\"form-label\" for=\"name\">{{\r\n                      $t(\"Name\")\r\n                    }}</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"name\"\r\n                      class=\"form-control form-control-lg\"\r\n                      :placeholder=\"$t('Name')\"\r\n                      maxlength=\"28\"\r\n                      v-model=\"GuestName\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-lg-6\">\r\n                  <div class=\"form-outline mb-3\">\r\n                    <label class=\"form-label\" for=\"name\">{{\r\n                      $t(\"Surname\")\r\n                    }}</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      id=\"name\"\r\n                      class=\"form-control form-control-lg\"\r\n                      :placeholder=\"$t('Surname')\"\r\n                      maxlength=\"22\"\r\n                      v-model=\"GuestSurname\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-lg-6\">\r\n                  <div class=\"form-outline mb-3\">\r\n                    <label class=\"form-label\" for=\"email\">{{\r\n                      $t(\"EmailAddress\")\r\n                    }}</label>\r\n                    <input\r\n                      type=\"email\"\r\n                      id=\"email\"\r\n                      required\r\n                      class=\"form-control form-control-lg\"\r\n                      :placeholder=\"$t('EmailAddress')\"\r\n                      v-model=\"GuestEmailAddress\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-lg-6\">\r\n                  <div class=\"form-outline mb-3\">\r\n                    <label class=\"form-label\" for=\"tel\">{{\r\n                      $t(\"PhoneNumber\")\r\n                    }}</label>\r\n                    <div class=\"row phone-space\">\r\n                      <div class=\"col-lg-3\">\r\n                        <select name=\"\" id=\"\">\r\n                          <option value=\"+90\" selected>+90</option>\r\n                        </select>\r\n                      </div>\r\n                      <div class=\"col-lg-9\">\r\n                        <input\r\n                          type=\"tel\"\r\n                          class=\"form-control form-control-lg\"\r\n                          id=\"tel\"\r\n                          :placeholder=\"$t('PhoneNumberMask')\"\r\n                          required\r\n                          maxlength=\"10\"\r\n                          v-model=\"GuestPhoneNumber\"\r\n                          @input=\"MaskPhoneNumber\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-lg-6\">\r\n                  <div class=\"form-outline mb-3\">\r\n                    <label class=\"form-label\" for=\"password\">{{\r\n                      $t(\"Password\")\r\n                    }}</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      id=\"password\"\r\n                      class=\"form-control form-control-lg\"\r\n                      :placeholder=\"$t('Password')\"\r\n                      v-model=\"GuestPassword\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-lg-6\">\r\n                  <div class=\"form-outline mb-3\">\r\n                    <label class=\"form-label\" for=\"passwordRepeat\">{{\r\n                      $t(\"PasswordRepeat\")\r\n                    }}</label>\r\n                    <input\r\n                      type=\"password\"\r\n                      id=\"passwordRepeat\"\r\n                      class=\"form-control form-control-lg\"\r\n                      :placeholder=\"$t('PasswordRepeat')\"\r\n                      v-model=\"GuestPasswordRepeat\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"d-flex justify-content-between align-items-center\">\r\n                <!-- Checkbox -->\r\n                <div class=\"form-check mb-0\">\r\n                  <input\r\n                    class=\"form-check-input me-2\"\r\n                    type=\"checkbox\"\r\n                    value=\"\"\r\n                    id=\"gdpr\"\r\n                    v-model=\"GuestPrivacyAccept\"\r\n                  />\r\n                  <label class=\"form-check-label policy-accept\" for=\"gdpr\">\r\n                    <nuxt-link\r\n                      :to=\"LocalePath('/contracts/gdpr')\"\r\n                      target=\"_blank\"\r\n                    >\r\n                      {{ $t(\"GDPR\") }}</nuxt-link\r\n                    >\r\n                    {{ $t(\"And\") }}\r\n                    <nuxt-link\r\n                      :to=\"LocalePath('/contracts/privacy-policy')\"\r\n                      target=\"_blank\"\r\n                    >\r\n                      {{ $t(\"PrivacyPolicy\") }}</nuxt-link\r\n                    >\r\n                    {{ $t(\"Accept\") }}\r\n                  </label>\r\n                </div>\r\n              </div>\r\n              <div class=\"mt-2\">\r\n                <div class=\"text-danger\" style=\"height: 20px\">\r\n                  <p v-if=\"ErrorMessage\">* {{ $t(ErrorMessage) }}</p>\r\n                </div>\r\n              </div>\r\n              <div class=\"text-center text-lg-start mt-2 pt-2\">\r\n                <button\r\n                  type=\"button\"\r\n                  class=\"btn btn-lg\"\r\n                  style=\"padding-left: 2.5rem; padding-right: 2.5rem\"\r\n                  @click=\"CheckInformation()\"\r\n                  :disabled=\"RegisterProgress\"\r\n                >\r\n                  {{ $t(\"Register\") }}\r\n                </button>\r\n                <p class=\"small fw-bold mt-2 pt-1 mb-0\">\r\n                  {{ $t(\"YouHaveAnAccount\") }}\r\n                  <NuxtLink :to=\"LocalePath('/user/login')\" class=\"link\">\r\n                    {{ $t(\"Login\") }}</NuxtLink\r\n                  >\r\n                </p>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\n// set layout\r\ndefinePageMeta({\r\n  layout: \"empty\",\r\n});\r\nconst Auth = useCookie(\"isAuthenticated\"); // cookie auth\r\nconst LocalePath = useLocalePath(); // localization for route\r\nconst snackbar = useSnackbar(); // info modal(success - warning - fail)\r\nconst { t } = useI18n(); // localization\r\n//const CookieInProgress = useCookie(\"InProgress\");\r\nconst Router = useRouter(); // router\r\n// guest register form\r\nlet GuestName = ref(\"\");\r\nlet GuestSurname = ref(\"\");\r\nlet GuestEmailAddress = ref(\"\");\r\nlet GuestPhoneNumber = ref(\"\");\r\nlet GuestPassword = ref(\"\");\r\nlet GuestPasswordRepeat = ref(\"\");\r\nlet GuestPrivacyAccept = ref(false);\r\n\r\n// register button\r\nconst RegisterProgress = ref(false);\r\n\r\n// Error Message\r\nconst ErrorMessage = ref(\"\");\r\nconst CheckInformation = async () => {\r\n  ErrorMessage.value = \"\";\r\n  const NameResponse = HelperComposable().CheckGuestName(GuestName.value);\r\n  if (NameResponse != true) {\r\n    //MarkAsError(\"name\");\r\n    return (ErrorMessage.value = \"InvalidName\");\r\n  }\r\n  const SurnameResponse = HelperComposable().CheckGuestSurname(\r\n    GuestSurname.value\r\n  );\r\n  if (SurnameResponse != true) {\r\n    return (ErrorMessage.value = \"InvalidSurname\");\r\n  }\r\n  const EmailResponse = HelperComposable().CheckGuestEmailAddress(\r\n    GuestEmailAddress.value\r\n  );\r\n  if (EmailResponse != true) {\r\n    return (ErrorMessage.value = \"InvalidEmail\");\r\n  }\r\n  const PhoneNumberResponse = HelperComposable().CheckGuestPhoneNumber(\r\n    GuestPhoneNumber.value\r\n  );\r\n  if (PhoneNumberResponse == \"1\") {\r\n    return (ErrorMessage.value = \"InvalidPhoneNumber\");\r\n  }\r\n  GuestPhoneNumber.value = PhoneNumberResponse;\r\n  // password\r\n  if (!GuestPassword.value) {\r\n    return (ErrorMessage.value = \"PasswordNotBeEmpty\");\r\n  }\r\n  if (!GuestPasswordRepeat.value) {\r\n    return (ErrorMessage.value = \"PasswordRepeatNotBeEmpty\");\r\n  }\r\n  const PasswordResponse = HelperComposable().CheckPasswordStrength(\r\n    GuestPassword.value\r\n  );\r\n  if (!PasswordResponse) {\r\n    return (ErrorMessage.value = \"YourPasswordMustBe\");\r\n  }\r\n  const ComparePassword = HelperComposable().ComparePasswords(\r\n    GuestPassword.value,\r\n    GuestPasswordRepeat.value\r\n  );\r\n  if (!ComparePassword) {\r\n    return (ErrorMessage.value = \"PasswordsAreNotEqual\");\r\n  }\r\n  if (GuestPrivacyAccept.value == false) {\r\n    return (ErrorMessage.value = \"PleaseAcceptGdprAndPrivacy\");\r\n  }\r\n  // disabled button\r\n  RegisterProgress.value = true;\r\n  // prepare register data\r\n\r\n  await PrepareRegisterData();\r\n};\r\n\r\n// mark input elements\r\nconst MarkAsError = (id) => {\r\n  document.querySelector(\"#name\").classList.add(\"mark-err\");\r\n};\r\n// mask phone number\r\nconst MaskPhoneNumber = (event) => {\r\n  let FormattedPhoneNumber = event.target.value.replace(/\\D/g, \"\");\r\n  // if (FormattedPhoneNumber.length === 10) {\r\n  //   FormattedPhoneNumber = FormattedPhoneNumber.replace(\r\n  //     /^(\\d{3})(\\d{3})(\\d{4})$/,\r\n  //     \"($1) $2-$3\"\r\n  //   );\r\n  // }\r\n  GuestPhoneNumber.value = FormattedPhoneNumber;\r\n};\r\n// snackbar design\r\nconst Snackbar = (text, type) => {\r\n  setTimeout(() => {\r\n    snackbar.add({\r\n      type,\r\n      text,\r\n    });\r\n  }, 200);\r\n};\r\nconst PrepareRegisterData = async () => {\r\n  const RegisterData = {\r\n    name: GuestName.value,\r\n    surname: GuestSurname.value,\r\n    phone: GuestPhoneNumber.value,\r\n    email: GuestEmailAddress.value,\r\n    password: GuestPassword.value,\r\n    passwordRepeat: GuestPasswordRepeat.value,\r\n  };\r\n  const RegisterResponse = AuthComposable().SendRegisterData(RegisterData);\r\n  //console.log(RegisterResponse);\r\n\r\n  RegisterResponse.then((response) => {\r\n    RegisterProgress.value = false;\r\n    if (response === \"0\") {\r\n      Router.push(LocalePath(`/user/login?status=success`));\r\n    } else {\r\n      return (ErrorMessage.value = response);\r\n    }\r\n  }).catch((error) => {\r\n    console.log(error);\r\n  });\r\n};\r\nonMounted(() => {});\r\n</script>\r\n\r\n<style scoped>\r\na {\r\n  color: #214280;\r\n}\r\n.mark-err {\r\n  border: 1px solid red !important;\r\n  background-color: red;\r\n}\r\n.register small {\r\n  color: red;\r\n}\r\n.register .divider:after,\r\n.register .divider:before {\r\n  content: \"\";\r\n  flex: 1;\r\n  height: 1px;\r\n  background: #fff;\r\n}\r\n.register .form {\r\n  padding: 35px 30px 35px 30px;\r\n}\r\n.register .h-custom img {\r\n  height: 100vh;\r\n  width: 100%;\r\n  object-fit: cover;\r\n}\r\n.register h2 {\r\n  font-size: 1.4em;\r\n}\r\n.register .h-custom {\r\n  height: calc(100% - 73px);\r\n}\r\n.register button.btn {\r\n  background-color: #214280;\r\n  color: #fff;\r\n  transition: 0.4s all ease;\r\n  font-size: 16px;\r\n}\r\n.register button.btn:hover {\r\n  background-color: #214280;\r\n  color: #fff;\r\n  transform: translateY(-3px);\r\n}\r\n.register input::placeholder {\r\n  font-size: 14px;\r\n  color: #808080;\r\n}\r\n.register label {\r\n  margin-bottom: 2px;\r\n  font-size: 16px;\r\n}\r\n.phone-space .col-lg-3 {\r\n}\r\n.phone-space select {\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: transparent;\r\n  border: 1px solid #ebebeb;\r\n  border-radius: 6px;\r\n}\r\n@media (max-width: 996px) {\r\n  .phone-space select {\r\n    width: max-content;\r\n    padding: 6px;\r\n  }\r\n  .phone-space .col-lg-9 {\r\n    margin-top: 6px;\r\n  }\r\n}\r\n@media (max-width: 450px) {\r\n  .register .h-custom {\r\n    height: 100%;\r\n  }\r\n}\r\n</style>\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4La,cAAU,iBAAiB;AACxC,UAAM,aAAa,cAAa;AACf,gBAAc;AACjB,YAAU;AAET,cAAY;AAE3B,QAAI,YAAY,IAAI,EAAE;AACtB,QAAI,eAAe,IAAI,EAAE;AACzB,QAAI,oBAAoB,IAAI,EAAE;AAC9B,QAAI,mBAAmB,IAAI,EAAE;AAC7B,QAAI,gBAAgB,IAAI,EAAE;AAC1B,QAAI,sBAAsB,IAAI,EAAE;AAChC,QAAI,qBAAqB,IAAI,KAAK;AAGlC,UAAM,mBAAmB,IAAI,KAAK;AAGlC,UAAM,eAAe,IAAI,EAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}