{"version":3,"file":"_id_-a66d1317.js","sources":["../../../../../../assets/icons/error.png","../../../../components/Check-Availability.vue","../../../../components/Google-Maps-Marker.vue","../../../../../../assets/icons/bed.svg","../../../../../../assets/icons/bath.svg","../../../../../../assets/icons/wc.svg","../../../../pages/destinations/[id].vue"],"sourcesContent":["export default \"__VITE_PUBLIC_ASSET__27f1ef91__\"","<template>\r\n  <div class=\"check-availability w-100\">\r\n    <div>\r\n      <span> {{ $t(\"CheckAvailability\") }} </span>\r\n\r\n      <VueDatePicker\r\n        v-model=\"Dates\"\r\n        range\r\n        :enable-time-picker=\"false\"\r\n        :multi-calendars=\"{ solo: true }\"\r\n        auto-apply\r\n        :min-date=\"MinDate\"\r\n        :min-range=\"MinRange\"\r\n        :auto-range=\"AutoRange\"\r\n        :placeholder=\"$t('CheckInOut')\"\r\n        class=\"d-picker\"\r\n        locale=\"tr\"\r\n        model-type=\"yyyy-MM-dd\"\r\n      >\r\n      </VueDatePicker>\r\n    </div>\r\n    <div>\r\n      <div class=\"check-availability-info\">\r\n        <div class=\"container\" v-if=\"ShowInfoSection\">\r\n          <!-- <div v-if=\"InProgress\">\r\n            <Loading />\r\n          </div> -->\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <span>{{ $t(\"AccommodationFee\") }}:</span>\r\n            </div>\r\n            <div class=\"col\">\r\n              <span\r\n                >{{\r\n                  Math.ceil(TotalAccommodationFee * 36.5533).toLocaleString(\r\n                    \"tr-TR\"\r\n                  )\r\n                }}\r\n                &nbsp;₺</span\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <span>{{ $t(\"TaxRate\") }}:</span>\r\n            </div>\r\n            <div class=\"col\">\r\n              <span> {{ TaxRate }} &nbsp;%</span>\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <span>{{ $t(\"TaxAmount\") }}:</span>\r\n            </div>\r\n            <div class=\"col\">\r\n              <span>\r\n                {{ Math.ceil(TaxAmount * 36.5533).toLocaleString(\"tr-TR\") }}\r\n                &nbsp;₺</span\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"row\">\r\n            <div class=\"col\">\r\n              <span>{{ $t(\"CleaningFee\") }}: </span>\r\n            </div>\r\n            <div class=\"col\">\r\n              <span\r\n                >{{\r\n                  Math.ceil(CleaningFee * 36.5533).toLocaleString(\"tr-TR\")\r\n                }}\r\n                &nbsp;₺</span\r\n              >\r\n            </div>\r\n          </div>\r\n          <div class=\"row total-price\">\r\n            <div class=\"col\">\r\n              <span>{{ $t(\"Total\") }} {{ $t(\"Price\") }}:</span>\r\n            </div>\r\n            <div class=\"col\">\r\n              <span>\r\n                {{ Math.ceil(TotalPrice * 36.5533).toLocaleString(\"tr-TR\") }}\r\n                &nbsp;₺\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"container mt-2 text-danger\" v-else>\r\n          <span>{{ ErrorMessage }}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"col btn-box\">\r\n      <div class=\"col-lg-12\">\r\n        <!-- <button type=\"button\" class=\"btn first\" @click=\"CheckAvailability(0)\">\r\n          Check Availability\r\n        </button> -->\r\n      </div>\r\n      <div class=\"col-lg-12\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"btn second\"\r\n          :title=\"$t('Reservation')\"\r\n          @click=\"CheckAvailability(1)\"\r\n          v-if=\"ShowPaymentStep\"\r\n          :disabled=\"InProgress\"\r\n        >\r\n          {{ $t(\"Reservation\") }}\r\n        </button>\r\n      </div>\r\n      <div class=\"col-lg-12\">\r\n        <!-- Call back btn -->\r\n        <button\r\n          type=\"button\"\r\n          class=\"call-back-btn w-100\"\r\n          data-bs-toggle=\"modal\"\r\n          data-bs-target=\"#callbackModal\"\r\n        >\r\n          <div class=\"row d-flex justify-content-around align-items-center\">\r\n            <div class=\"col-lg-12\">Temsilciye Ulaşın</div>\r\n            <!-- <div class=\"col-6 d-flex justify-content-center\">\r\n                  <img src=\"/assets/icons/person.svg\" alt=\"user\" />\r\n                </div> -->\r\n          </div>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- Check Availability Modal -->\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"checkAvailabilityModal\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"checkAvailabilityModal\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog modal-dialog-centered\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <img src=\"/assets/icons/error.png\" alt=\"error\" />\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <div class=\"col\">\r\n            <h2>HATA</h2>\r\n          </div>\r\n          <div class=\"col\">\r\n            <p>\r\n              Bu mülk için min. konaklama süresi\r\n              {{ EstateMinAccommodation }} gecedir.\r\n            </p>\r\n          </div>\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            class=\"btn\"\r\n            type=\"button\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n          >\r\n            Tamam\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport VueDatePicker from \"@vuepic/vue-datepicker\";\r\nimport \"@vuepic/vue-datepicker/dist/main.css\";\r\nconst props = defineProps({\r\n  EstateID: String,\r\n});\r\nconst { t } = useI18n();\r\nconst Router = useRouter();\r\nconst InProgress = ref(false);\r\n// cookie for filters\r\nconst CookieFilters = useCookie(\"Filters\");\r\n// state for estate details\r\nconst EstateInfo = useState(\"EstateInfo\");\r\nconst CookieEstateID = useCookie(\"EstateID\");\r\nconst ShowInfoSection = ref(false);\r\nconst ShowPaymentStep = ref(false);\r\n// filter ref values\r\nconst MinDate = new Date();\r\nconst Dates = ref([]);\r\nconst ErrorMessage = ref(\"\");\r\n// Price values\r\nconst TotalPrice = ref(0);\r\nconst TotalAccommodationFee = ref(0);\r\nconst CleaningFee = ref(0);\r\nconst TaxAmount = ref(0);\r\nconst TaxRate = ref(0);\r\n//local path\r\nconst LocalePath = useLocalePath();\r\n// min range\r\nconst MinRange = ref(\"\");\r\n// auto range\r\nconst AutoRange = ref(\"\");\r\n// total nights\r\nconst TotalNights = ref(0);\r\n// EstateMinAccommodation\r\nconst EstateMinAccommodation = ref(0);\r\nonMounted(() => {\r\n  CheckCookieFilters();\r\n  TotalPrice.value = EstateInfo.value.price;\r\n  MinRange.value = 1;\r\n  // AutoRange.value = EstateInfo.value.minAccommodation;\r\n});\r\n\r\nconst CheckAvailability = async (item) => {\r\n  InProgress.value = true;\r\n  ErrorMessage.value = \"\";\r\n  if ((item) => 0 && typeof item == Number) {\r\n    if (item === 0) {\r\n      if (!Dates.value) {\r\n        if (ShowInfoSection.value) {\r\n          ShowInfoSection.value = false;\r\n        }\r\n        if (ShowPaymentStep.value) {\r\n          ShowPaymentStep.value = false;\r\n        }\r\n        InProgress.value = false;\r\n        return (ErrorMessage.value = `* ${t(\r\n          \"PleaseSelectCheckInCheckOutDates\"\r\n        )}`);\r\n      }\r\n      // const CheckIn = HelperComposable().DateFormatter(Dates.value[0]);\r\n      // const CheckOut = HelperComposable().DateFormatter(Dates.value[1]);\r\n      // CookieFilters.value.Dates[0] = CheckIn;\r\n      // CookieFilters.value.Dates[1] = CheckOut;\r\n      const CheckIn = Dates.value[0];\r\n      const CheckOut = Dates.value[1];\r\n      CookieFilters.value.Dates[0] = CheckIn;\r\n      CookieFilters.value.Dates[1] = CheckOut;\r\n      //send req.\r\n      const CheckReq = await ReservationComposable().CheckAvailability(\r\n        CheckIn,\r\n        CheckOut\r\n      );\r\n      //console.log(CheckReq);\r\n      if (CheckReq) {\r\n        // update values\r\n        if (CheckReq.data) {\r\n          const CheckReqData = CheckReq.data;\r\n          TotalPrice.value = CheckReqData.total;\r\n          CleaningFee.value = CheckReqData.cleaningFee;\r\n          TaxAmount.value = CheckReqData.taxRate.taxAmount;\r\n          TaxRate.value = CheckReqData.taxRate.taxRate;\r\n          TotalAccommodationFee.value = CheckReqData.totalAccommodationFee;\r\n\r\n          // check estate min. accommodation\r\n          TotalNights.value = HelperComposable().CalculateNights(\r\n            CookieFilters.value.Dates[0],\r\n            CookieFilters.value.Dates[1]\r\n          );\r\n          EstateMinAccommodation.value = EstateInfo.value.minAccommodation;\r\n          //console.log(EstateMinAccommodation, TotalNights);\r\n          if (EstateMinAccommodation.value > TotalNights.value) {\r\n            ShowInfoSection.value = false;\r\n            ShowPaymentStep.value = false;\r\n            ///// alert modal /////\r\n            // const modalElement = document.getElementById(\"checkAvailabilityModal\");\r\n            // const modal = new bootstrap.Modal(modalElement);\r\n            //  modal.show(); //open modal\r\n            ///// alert modal /////\r\n            InProgress.value = false;\r\n            return (ErrorMessage.value = `* Bu mülk için min. konaklama süresi ${EstateMinAccommodation.value} gecedir.`);\r\n          }\r\n          ShowInfoSection.value = true;\r\n          ShowPaymentStep.value = true;\r\n          InProgress.value = false;\r\n        } else {\r\n          if (ShowPaymentStep.value) {\r\n            ShowPaymentStep.value = false;\r\n          }\r\n          ShowInfoSection.value = false;\r\n          InProgress.value = false;\r\n          return (ErrorMessage.value = `* ${CheckReq}`);\r\n        }\r\n      }\r\n    }\r\n    if (item === 1) {\r\n      CookieEstateID.value = props.EstateID;\r\n      Router.push(LocalePath(\"/payment\"));\r\n    }\r\n  }\r\n};\r\n// check cookie filters\r\nconst CheckCookieFilters = async () => {\r\n  if (CookieFilters.value) {\r\n    if (CookieFilters.value.Dates) {\r\n      Dates.value = CookieFilters.value.Dates;\r\n    }\r\n  } else {\r\n    await HelperComposable().SetDefaultCookie();\r\n  }\r\n};\r\n\r\nwatch(\r\n  () => Dates.value,\r\n  () => {\r\n    CheckAvailability(0);\r\n  }\r\n);\r\n\r\n// watch(\r\n//   () => Dates.value,\r\n//   (CheckIn, CheckOut) => {\r\n//     if (CheckIn) {\r\n//       if (!CheckIn.value || !CheckOut.value) {\r\n//         const CheckIn = HelperComposable().DateFormatter(new Date());\r\n//         const CheckOut = HelperComposable().DateFormatter(\r\n//           new Date().setDate(new Date().getDate() + 3)\r\n//         );\r\n//         CookieFilters.value.Dates[0] = CheckIn;\r\n//         CookieFilters.value.Dates[1] = CheckOut;\r\n//       }\r\n//     }\r\n//     CheckAvailability(0);\r\n//   }\r\n// );\r\n\r\nwatch(() => {\r\n  ShowInfoSection.value;\r\n  TotalPrice.value;\r\n  CleaningFee.value;\r\n  TaxAmount.value;\r\n  TaxRate.value;\r\n});\r\n</script>\r\n\r\n<style>\r\n.check-availability .d-picker {\r\n  margin-top: 10px;\r\n  margin-bottom: 5px;\r\n}\r\n.check-availability .d-picker .dp__today {\r\n  border: none;\r\n}\r\n.check-availability .dp__input_icon_pad {\r\n  opacity: 0.75;\r\n}\r\n.check-availability span {\r\n  font-size: 15px;\r\n  opacity: 0.75;\r\n}\r\n.check-availability small {\r\n  font-weight: 600;\r\n  font-size: 16px;\r\n}\r\n.check-availability .btn-box {\r\n  width: 100%;\r\n  margin-top: 15px;\r\n}\r\n.check-availability .btn-box .first {\r\n  background-color: transparent !important;\r\n  border: 2px solid #b24693;\r\n  border-radius: 8px;\r\n  width: 100%;\r\n  color: #000;\r\n}\r\n.check-availability .btn-box .second {\r\n  background-color: #b24693;\r\n  width: 100%;\r\n}\r\n.check-availability .btn-box .second:active {\r\n  color: #fff;\r\n}\r\n.check-availability .total-price {\r\n  color: #214280;\r\n  margin-top: 4px;\r\n}\r\n.check-availability .check-availability-info .container .col:last-child {\r\n  text-align: end;\r\n}\r\n.check-availability .dp__range_end,\r\n.check-availability .dp__range_start,\r\n.check-availability .dp__active_date {\r\n  background-color: #b24693 !important;\r\n}\r\n.call-back-btn {\r\n  background-color: transparent;\r\n  color: rgba(0, 0, 0, 0.6);\r\n  position: relative;\r\n  margin-top: 5px;\r\n  width: 100%;\r\n  border-radius: 8px;\r\n  border: none;\r\n  padding: 4px 8px;\r\n  height: 40px;\r\n  transition: 0.5s ease all;\r\n}\r\n.call-back-btn:hover {\r\n  text-decoration: underline;\r\n  color: #214280;\r\n}\r\n#checkAvailabilityModal .modal-content {\r\n  padding: 35px 0;\r\n}\r\n#checkAvailabilityModal .modal-header {\r\n  display: flex;\r\n  justify-content: center;\r\n  border: none;\r\n}\r\n#checkAvailabilityModal .modal-header img {\r\n  width: 60px;\r\n  height: 60px;\r\n  border: 3px solid red;\r\n  padding: 8px;\r\n  border-radius: 50%;\r\n}\r\n#checkAvailabilityModal .modal-body {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  border: none;\r\n  padding-top: 0;\r\n}\r\n#checkAvailabilityModal .modal-body h2 {\r\n  color: rgba(0, 0, 0, 0.7);\r\n  font-size: 2em;\r\n  font-weight: 600;\r\n  margin-top: 5px;\r\n}\r\n#checkAvailabilityModal .modal-body p {\r\n  color: rgba(0, 0, 0, 0.6);\r\n  margin-bottom: 0;\r\n  margin-top: 5px;\r\n  font-size: 1.4em;\r\n  text-align: center;\r\n}\r\n#checkAvailabilityModal .modal-footer {\r\n  border: none;\r\n  display: flex;\r\n  justify-content: center;\r\n  padding-top: 0;\r\n}\r\n#checkAvailabilityModal .modal-footer .btn {\r\n  background-color: #214280;\r\n  color: #fff;\r\n}\r\n\r\n@media (max-width: 996px) {\r\n  .check-availability {\r\n    height: 180px;\r\n  }\r\n  .check-availability-info span {\r\n    font-size: 14px;\r\n  }\r\n  .call-back-btn {\r\n    width: 120px;\r\n    height: 60px;\r\n    font-weight: 500;\r\n  }\r\n  .call-back-btn img {\r\n    height: 20px;\r\n  }\r\n}\r\n</style>\r\n","<template>\r\n  <GoogleMap\r\n    :center=\"Coordinates\"\r\n    :zoom=\"15\"\r\n    apiKey=\"AIzaSyB1jnI1NLP_vSzfjXBGYAUb9R99s0S4rVE\"\r\n    style=\"width: 100%; height: 350px\"\r\n  >\r\n    <Marker :options=\"{ position: Coordinates }\" />\r\n  </GoogleMap>\r\n</template>\r\n\r\n<script setup>\r\nimport { GoogleMap, Marker } from \"vue3-google-map\";\r\nconst CookieCoordinates = useCookie(\"Coordinates\");\r\n//import config from \"../config.js\";\r\nconst Coordinates = ref({ lat: 1, lng: 1 });\r\n//const GoogleMapsAPIKey = ref();\r\nonMounted(() => {\r\n  // GoogleMapsAPIKey.value = config.GoogleMapsAPIKey;\r\n  setTimeout(() => {\r\n    let CookieData = CookieCoordinates.value;\r\n    if (CookieData) {\r\n      Coordinates.value = {\r\n        lat: Number(CookieData.latitude),\r\n        lng: Number(CookieData.longitude),\r\n      };\r\n      // console.log(\"google maps ready.\");\r\n    }\r\n  }, 1200);\r\n});\r\n\r\nwatch(() => {\r\n  Coordinates.value;\r\n});\r\n</script>\r\n","export default \"__VITE_PUBLIC_ASSET__7435ed32__\"","export default \"__VITE_PUBLIC_ASSET__608ff940__\"","export default \"__VITE_PUBLIC_ASSET__75c929ca__\"","<template>\r\n  <Head>\r\n    <Title>{{ PageTitle }}</Title>\r\n    <Meta name=\"keywords\" content=\"geccele\"> </Meta>\r\n    <Meta name=\"description\" content=\"geccele\"> </Meta>\r\n  </Head>\r\n  <div class=\"container-fluid mb-5 p-0 detail-section\">\r\n    <div v-if=\"InProgress\">\r\n      <Loading />\r\n    </div>\r\n    <div v-else>\r\n      <div class=\"detail-slider\">\r\n        <div v-if=\"Details.media.length > 0\">\r\n          <vueper-slides\r\n            class=\"no-shadow\"\r\n            :visible-slides=\"2\"\r\n            :slide-multiple=\"false\"\r\n            :slide-ratio=\"1 / 3\"\r\n            :gap=\"1\"\r\n            :arrows-outside=\"false\"\r\n            :dragging-distance=\"70\"\r\n            :lazyLoadOnDrag=\"true\"\r\n            :fractions=\"true\"\r\n            :bullets=\"false\"\r\n            :breakpoints=\"{\r\n              700: { visibleSlides: 1 },\r\n            }\"\r\n          >\r\n            <vueper-slide\r\n              v-for=\"(slide, i) in Details.media\"\r\n              :key=\"i\"\r\n              :image=\"ImageFilePrefix + slide.url\"\r\n            />\r\n          </vueper-slides>\r\n        </div>\r\n      </div>\r\n      <button\r\n        class=\"d-none d-lg-block gallery-btn\"\r\n        @click=\"OpenGallery(0)\"\r\n        title=\"Tam Ekran\"\r\n      >\r\n        &#x2629;\r\n      </button>\r\n\r\n      <div class=\"container py-3\" v-if=\"ScreenWidth < 996\">\r\n        <div class=\"col-md-12 check-availability-section\">\r\n          <CheckAvailability :EstateID=\"EstateID\" />\r\n        </div>\r\n      </div>\r\n      <!-- detail infos -->\r\n      <div class=\"container\">\r\n        <div class=\"row mt-5\">\r\n          <div class=\"col-lg-8\">\r\n            <div class=\"top-details\">\r\n              <h1>{{ Details.name }} <br /></h1>\r\n              <p>{{ Details.description }} <br /></p>\r\n            </div>\r\n          </div>\r\n          <div\r\n            class=\"col-lg-4 check-availability-section\"\r\n            v-if=\"ScreenWidth > 996\"\r\n          >\r\n            <CheckAvailability :EstateID=\"EstateID\" />\r\n          </div>\r\n        </div>\r\n        <!-- general infos -->\r\n        <div class=\"row general-infos mt-5\">\r\n          <div class=\"col-lg-8\">\r\n            <!-- <div>\r\n            <h2>Guest Rate</h2>\r\n            <p>{{ Details.rating }}</p>\r\n          </div> -->\r\n            <div class=\"estate-infos\">\r\n              <div class=\"d-block\">\r\n                <span v-if=\"Details.squareMeters\" class=\"square-meter\">\r\n                  {{ $t(\"RoomSquareMeters\") }}:\r\n                  <b>{{ Details.squareMeters }} </b>\r\n                </span>\r\n                &nbsp;\r\n                <span v-if=\"Details.numberOfPeople\" class=\"square-meter\">\r\n                  {{ $t(\"MaxGuest\") }}:\r\n                  <b>{{ Details.numberOfPeople }} </b>\r\n                </span>\r\n              </div>\r\n              <div class=\"boxes\">\r\n                <div class=\"row\">\r\n                  <div\r\n                    class=\"col-lg-2\"\r\n                    v-for=\"roomInfo in Details.estateRoomInfos\"\r\n                    :key=\"roomInfo.id\"\r\n                  >\r\n                    <div class=\"col text-center\">\r\n                      <figure>\r\n                        <img\r\n                          v-if=\"roomInfo.roomInfoId == 1\"\r\n                          src=\"/assets/icons/bed.svg\"\r\n                          alt=\"bed\"\r\n                        />\r\n                        <img\r\n                          v-if=\"roomInfo.roomInfoId == 2\"\r\n                          src=\"/assets/icons/bath.svg\"\r\n                          alt=\"bath\"\r\n                        />\r\n                        <img\r\n                          v-if=\"roomInfo.roomInfoId == 3\"\r\n                          src=\"/assets/icons/wc.svg\"\r\n                          alt=\"wc\"\r\n                        />\r\n                      </figure>\r\n                      <span>\r\n                        {{ roomInfo.name }}:&nbsp;{{ roomInfo.value }}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                  <!-- <div class=\"col-lg-1\">\r\n                    <div class=\"col text-center\">\r\n                      <figure>\r\n                        <img src=\"/assets/icons/bath.svg\" alt=\"bed\" />\r\n                      </figure>\r\n                      <span> 1 Bath </span>\r\n                    </div>\r\n                  </div> -->\r\n                  <!-- <div class=\"col-lg-1\">\r\n                    <div class=\"col text-center\">\r\n                      <figure>\r\n                        <img src=\"/assets/icons/wc.svg\" alt=\"bed\" />\r\n                      </figure>\r\n                      <span> 1 Wc </span>\r\n                    </div>\r\n                  </div> -->\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div v-if=\"Details.property.length > 0\">\r\n              <h2 class=\"mt-5\">{{ $t(\"AllFeatures\") }}</h2>\r\n              <div class=\"detail-features\">\r\n                <div v-for=\"detail in Details.property\" :key=\"detail\">\r\n                  {{ detail.name }}\r\n                  <br />\r\n                  <span v-for=\"info in detail.propertyDetail\" :key=\"info.id\">\r\n                    &check; {{ info.name }}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"col-lg-4\">\r\n            <div class=\"maps-side\">\r\n              <figure\r\n                data-bs-toggle=\"modal\"\r\n                data-bs-target=\"#google-maps-modal\"\r\n                :title=\"$t('SeeOnMap')\"\r\n              >\r\n                <img\r\n                  class=\"img-thumbnail\"\r\n                  src=\"/assets/detail-maps.png\"\r\n                  alt=\"map\"\r\n                />\r\n                <figcaption>{{ $t(\"SeeOnMap\") }}</figcaption>\r\n              </figure>\r\n              <p>{{ Address.detail }}</p>\r\n              <p>\r\n                {{ District }} / {{ City }} /\r\n                {{ Country }}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- similar destinations -->\r\n      <!-- <SimilarDestinations /> -->\r\n    </div>\r\n  </div>\r\n  <!-- map modal -->\r\n  <div\r\n    class=\"modal fade\"\r\n    id=\"google-maps-modal\"\r\n    tabindex=\"-1\"\r\n    aria-labelledby=\"google-maps-modal\"\r\n    aria-hidden=\"true\"\r\n  >\r\n    <div class=\"modal-dialog modal-dialog-centered\">\r\n      <div class=\"modal-content\">\r\n        <div class=\"modal-header\">\r\n          <h5 class=\"modal-title\" id=\"google-maps-modal-label\">\r\n            {{ Details.name }}\r\n          </h5>\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn-close\"\r\n            data-bs-dismiss=\"modal\"\r\n            aria-label=\"Close\"\r\n            :title=\"$t('Close')\"\r\n          ></button>\r\n        </div>\r\n        <div class=\"modal-body\">\r\n          <Google-Maps-Marker />\r\n        </div>\r\n        <div class=\"modal-footer\">\r\n          <button\r\n            type=\"button\"\r\n            class=\"btn btn-secondary\"\r\n            data-bs-dismiss=\"modal\"\r\n            :title=\"$t('Close')\"\r\n          >\r\n            {{ $t(\"Close\") }}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- slider gallery -->\r\n  <VueEasyLightbox\r\n    :visible=\"ShowGallery\"\r\n    :imgs=\"ImagesGalleryURL\"\r\n    :index=\"CurrentIndex\"\r\n    @hide=\"ShowGallery = false\"\r\n  />\r\n</template>\r\n\r\n<script setup lang=\"ts\">\r\n// // disable page payload.json\r\n// defineRouteRules({\r\n//   prerender: false,\r\n// });\r\ndefinePageMeta({\r\n  layout: \"default\",\r\n  middleware: \"auth\",\r\n});\r\nimport { VueperSlides, VueperSlide } from \"vueperslides\";\r\nimport \"vueperslides/dist/vueperslides.css\";\r\nimport VueEasyLightbox from \"vue-easy-lightbox\";\r\n//import config from \"~/config.js\";\r\nconst route = useRoute();\r\nconst router = useRouter();\r\nconst LocalePath = useLocalePath();\r\nconst RuntimeConfig = useRuntimeConfig();\r\nconst CookieFilters = useCookie(\"Filters\");\r\nconst CookieCoordinates = useCookie(\"Coordinates\");\r\nconst EstateInfo = useState(\"EstateInfo\");\r\nconst EstateID = useCookie(\"EstateID\");\r\n\r\n// page title\r\nconst PageTitle = ref(\"Geccele\");\r\nconst InProgress = ref(true);\r\n// destination detail\r\nlet Details = ref({});\r\nlet Address = ref({});\r\nlet District = ref({});\r\nlet City = ref({});\r\nlet Country = ref({});\r\n//route\r\nlet RouteID = ref();\r\nconst ImageFilePrefix = ref(\"\");\r\n// screen width\r\nconst ScreenWidth = ref(Number);\r\n// gallery index\r\nconst CurrentIndex = ref(0);\r\n//show gallery\r\nconst ShowGallery = ref(false);\r\n\r\nonMounted(async () => {\r\n  const CRMHost = RuntimeConfig.public.CRM_HOST;\r\n  //console.log(CRMHost);\r\n  ImageFilePrefix.value = `${CRMHost}/files/IMAGE/`;\r\n  ScreenWidth.value = HelperComposable().GetScreenWidth();\r\n  // get data of selected destination\r\n  RouteID.value = route.path.split(\"/\").pop() || \"\";\r\n\r\n  // check cookie\r\n  if (CookieFilters.value) {\r\n    const DesData = await DestinationComposable().GetDestinationByID(\r\n      RouteID.value,\r\n      CookieFilters.value.Dates\r\n    );\r\n    if (DesData) {\r\n      if (DesData.data) {\r\n        Details.value = DesData.data;\r\n        SetEstateInfo();\r\n      } else {\r\n        // router.push(LocalePath(\"/error\"));\r\n        const DesData = await DestinationComposable().GetDestinationByIDAsBasic(\r\n          RouteID.value\r\n        );\r\n        if (!DesData.data) {\r\n          return router.push(LocalePath(\"/error\"));\r\n        }\r\n        Details.value = DesData.data;\r\n        SetEstateInfo();\r\n      }\r\n    } else {\r\n      return router.push(LocalePath(\"/error\"));\r\n    }\r\n  } else {\r\n    if (!CookieFilters.value) {\r\n      CookieFilters.value = {\r\n        Dates: [],\r\n      };\r\n    }\r\n    const DefaultCheckIn = HelperComposable().DateFormatter(new Date());\r\n    const DefaultCheckOut = HelperComposable().DateFormatter(\r\n      new Date().setDate(new Date().getDate() + 3)\r\n    );\r\n    CookieFilters.value.Dates[0] = DefaultCheckIn;\r\n    CookieFilters.value.Dates[1] = DefaultCheckOut;\r\n    router.go();\r\n  }\r\n});\r\n\r\n// set estate info\r\nconst SetEstateInfo = () => {\r\n  Address.value = Details.value.address;\r\n  District.value = Address.value.subCity;\r\n  City.value = Address.value.city;\r\n  Country.value = Address.value.country;\r\n  PageTitle.value = Details.value.name;\r\n  InProgress.value = false;\r\n  // set cookie for coordinates\r\n  let FilteredCoordinates = {\r\n    latitude: null,\r\n    longitude: null,\r\n  };\r\n  FilteredCoordinates.latitude = Address.value.latitude;\r\n  FilteredCoordinates.longitude = Address.value.longitude;\r\n  CookieCoordinates.value = FilteredCoordinates;\r\n  EstateInfo.value = Details.value;\r\n  EstateID.value = Details.value.id;\r\n};\r\n\r\n// slider gallery\r\nconst OpenGallery = (index) => {\r\n  CurrentIndex.value = index;\r\n  ShowGallery.value = true;\r\n};\r\n\r\n// set gallery url\r\nconst ImagesGalleryURL = computed(() => {\r\n  return Details.value.media\r\n    ? Details.value.media.map((slide) => ImageFilePrefix.value + slide.url)\r\n    : [];\r\n});\r\n\r\nasync function MakeReservation() {\r\n  EstateInfo.value = Details.value;\r\n  EstateID.value = RouteID.value;\r\n  router.push(\"/reservation\");\r\n}\r\n\r\nwatch(() => {\r\n  Details.value;\r\n  Address.value;\r\n});\r\n</script>\r\n\r\n<style>\r\n@font-face {\r\n  font-family: \"TTCommonsThin\";\r\n  src: local(\"TTCommons\"), url(\"../fonts/TTCommons-Thin.otf\") format(\"opentype\");\r\n}\r\n@font-face {\r\n  font-family: \"TTCommonsMedium\";\r\n  src: local(\"TTCommons\"),\r\n    url(\"../fonts/TTCommons-Medium.otf\") format(\"opentype\");\r\n}\r\n/* gallery */\r\n.vel-modal {\r\n  background: rgba(0, 0, 0, 0.7) !important;\r\n}\r\n.gallery-btn {\r\n  position: absolute;\r\n  right: 0;\r\n  background-color: #fff;\r\n  color: #0000006c;\r\n  border: none;\r\n  margin-top: -45px;\r\n  z-index: 999;\r\n  border-top-left-radius: 8px;\r\n  width: 45px;\r\n  height: 45px;\r\n  font-size: 1.4em;\r\n  padding: 0;\r\n  transition: 0.4s ease all;\r\n}\r\n.gallery-btn:hover {\r\n  color: #000;\r\n}\r\n/* gallery */\r\n.top-details {\r\n  padding-right: 80px;\r\n}\r\n.top-details p {\r\n  font-size: 16px;\r\n  opacity: 0.65;\r\n  text-align: justify;\r\n  font-family: \"TTCommonsThin\";\r\n}\r\n.top-details h1 {\r\n  font-size: 1.8em;\r\n  font-family: \"TTCommonsMedium\";\r\n  opacity: 0.75;\r\n  line-height: 35px;\r\n}\r\n.detail-section .estate-infos .boxes {\r\n  margin-top: 25px;\r\n}\r\n.detail-section .estate-infos .boxes .col-lg-2 {\r\n  border-left: 1px solid #ebebeb;\r\n  margin-left: 13px;\r\n}\r\n.detail-section .estate-infos .boxes img {\r\n  width: 26px;\r\n  height: 26px;\r\n  object-fit: cover;\r\n}\r\n\r\n.detail-section .estate-infos .boxes span {\r\n  font-size: 12px;\r\n}\r\n\r\n.detail-section .square-meter {\r\n  background-color: #33a776;\r\n  color: #fff;\r\n  padding: 6px 10px;\r\n  border-radius: 8px;\r\n}\r\n\r\n.detail-section h1 {\r\n  font-size: 2em;\r\n}\r\n\r\n.detail-section .details-slider {\r\n  height: 350px;\r\n  object-fit: cover;\r\n}\r\n\r\n.detail-section .vueperslides__arrow .left::before {\r\n  font-size: 3em;\r\n  content: \"<\";\r\n}\r\n\r\n.detail-section .vueperslides__arrow .right::before {\r\n  font-size: 3em;\r\n  content: \">\";\r\n}\r\n\r\n.detail-section .details-slider .vueperslides__parallax-wrapper {\r\n  /* border-radius: 16px; */\r\n}\r\n\r\n/* detail slider */\r\n.detail-section .detail-slider .vueperslides__arrow {\r\n  opacity: 1;\r\n}\r\n\r\n.detail-section .detail-slider .vueperslides__arrow svg {\r\n  box-shadow: 0 0 6px rgba(0, 0, 0, 0.3);\r\n  display: block;\r\n  position: relative;\r\n  background-color: #fff;\r\n  border: 1px solid #fff;\r\n  color: #000;\r\n  width: 40px;\r\n  height: 40px;\r\n  opacity: 1 !important;\r\n  padding: 10px;\r\n  border-radius: 50%;\r\n}\r\n\r\n.detail-section .detail-slider .vueperslides__fractions {\r\n  background-color: #fff;\r\n  color: #000;\r\n}\r\n\r\n/* detail-navs */\r\n.detail-navs ul {\r\n  margin-top: 12px;\r\n  padding: 0;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: flex-start;\r\n  align-items: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.detail-section .detail-navs ul li {\r\n  list-style: none;\r\n  margin-right: 15px;\r\n}\r\n\r\n.detail-section .detail-navs ul li a {\r\n  color: #4c84ca;\r\n  text-decoration: none;\r\n}\r\n\r\n/* detail maps */\r\n.detail-section .detail-features {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.detail-section .detail-features p {\r\n  margin-right: 10px;\r\n}\r\n.detail-section .detail-features div {\r\n  margin-top: 15px;\r\n  color: #4c84ca;\r\n}\r\n.detail-section .detail-features span {\r\n  margin-right: 10px;\r\n  color: rgba(0, 0, 0, 0.6);\r\n}\r\n.detail-section .maps-side figure {\r\n  margin-bottom: 6px;\r\n  cursor: pointer;\r\n}\r\n\r\n.detail-section .maps-side img {\r\n  height: 120px;\r\n  width: 100%;\r\n  object-fit: cover;\r\n  border-radius: 12px;\r\n  padding: 0;\r\n}\r\n\r\n.detail-section .maps-side figcaption {\r\n  margin-top: -50px;\r\n  margin-left: 20px;\r\n  background-color: #6e9bd4;\r\n  position: absolute;\r\n  color: #fff;\r\n  padding: 4px 8px;\r\n  border-radius: 12px;\r\n  cursor: pointer;\r\n}\r\n\r\n.detail-section .maps-side p {\r\n  margin-bottom: 4px;\r\n}\r\n\r\n.detail-section .general-infos {\r\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\r\n  padding: 25px 10px;\r\n  border-radius: 12px;\r\n}\r\n\r\n.detail-section .general-infos h2 {\r\n  font-size: 20px;\r\n  font-weight: 600;\r\n  color: #6e9bd4;\r\n}\r\n\r\n/* Rooms */\r\n.detail-section .card {\r\n  margin: 10px 0;\r\n  border: none;\r\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;\r\n}\r\n\r\n.detail-section .card-title {\r\n  font-size: 16px;\r\n  font-weight: 600;\r\n  color: #3e3d3d;\r\n}\r\n\r\n.detail-section .btn {\r\n  background-color: #b24693;\r\n  color: #fff;\r\n  margin-top: 4px;\r\n}\r\n\r\n.detail-section .price {\r\n  top: 25px;\r\n  color: #33a776;\r\n  font-weight: 600;\r\n  font-size: 22px;\r\n}\r\n\r\n.detail-section .card .card-img {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n\r\n.detail-section .features ul {\r\n  list-style: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.detail-section .features ul li {\r\n  margin-right: 8px;\r\n  color: #4c84ca;\r\n  font-size: 14px;\r\n  font-weight: 600;\r\n}\r\n\r\n.detail-section .room-detail-btn {\r\n  color: #000;\r\n  padding-top: 12px;\r\n  cursor: pointer;\r\n}\r\n\r\n.check-availability-section {\r\n  border: 1px solid #ebebeb;\r\n  border-radius: 8px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 15px;\r\n  height: min-content;\r\n}\r\n/*################### responsive design #####################*/\r\n@media (max-width: 996px) {\r\n  .detail-slider .vueperslides__parallax-wrapper {\r\n    height: 350px;\r\n  }\r\n  .top-details {\r\n    padding-right: 0;\r\n    margin-top: 15px;\r\n  }\r\n  .detail-section h1 {\r\n    font-size: 1.6em;\r\n  }\r\n  .detail-section p {\r\n    font-size: 1em;\r\n    margin-bottom: 0;\r\n  }\r\n  .detail-section .estate-infos .boxes .col-lg-2 {\r\n    width: max-content;\r\n  }\r\n  .maps-side {\r\n    margin-top: 25px;\r\n  }\r\n  .detail-section .general-infos {\r\n    padding: 45px 0;\r\n  }\r\n  .check-availability-section {\r\n    border: 1px solid #ebebeb;\r\n    border-radius: 8px;\r\n    display: block;\r\n    padding: 15px;\r\n    height: 350px;\r\n  }\r\n}\r\n</style>\r\n"],"names":["item"],"mappings":"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"}