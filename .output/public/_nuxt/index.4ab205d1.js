import{H as ne,T as ie,M as ce}from"./components.6553c05a.js";import{j as ee,i as de,k as te,r as i,l as Q,m as z,o as a,c as l,a as e,t as d,g as r,M as re,N as ue,F as w,L as O,b as P,q as J,_ as _e,h as ae,w as oe,d as Z,p as me,e as pe}from"./entry.730d88a0.js";import{u as B}from"./cookie.9c65daa6.js";import{H as T}from"./axiosConfig.7d6b2f49.js";import{D as U}from"./DestinationComposable.b1c38efc.js";import{j as ve,_ as he}from"./main.fe059f16.js";/* empty css                */import{u as fe}from"./composables.f0381756.js";import{_ as be}from"./404-not-found.f20a94c1.js";import{_ as ke}from"./_plugin-vue_export-helper.c27b6911.js";import"./vue.f36acd1f.82d49aa4.js";const le=""+globalThis.__publicAssetsURL("assets/icons/find.svg");const ge={class:"filters my-2"},De={class:"container-fluid accordion accordion-flush",id:"accordionFlushExample"},ye={key:0,class:"row"},Ce={class:"col-lg-2 city m-col"},$e=["value"],Ie={class:"col-lg-2 m-col"},Se={class:"accordion-item neighborhoods-side"},Pe={class:"accordion-header"},Fe={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseTwo","aria-expanded":"false","aria-controls":"flush-collapseTwo"},xe={id:"flush-collapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},Ee={class:"accordion-body"},we={class:"form-check"},Te=["name","value","id","checked"],Ae=["for"],Me={class:"col-lg-2 estate m-col"},Re={class:"accordion-item estate-side"},Ve={class:"accordion-header"},Le={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseFour","aria-expanded":"false","aria-controls":"flush-collapseFour"},Ge={id:"flush-collapseFour",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},Oe={class:"accordion-body"},Ne={class:"form-check"},qe=["name","value","id","checked"],je=["for"],He={class:"col-lg-3 d-picker"},Ue={class:"col-lg-3 sub-filters"},Be={class:"accordion-item"},ze={class:"accordion-header"},Ke={class:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#flush-collapseThree","aria-expanded":"false","aria-controls":"flush-collapseThree"},We={id:"flush-collapseThree",class:"accordion-collapse collapse","data-bs-parent":"#accordionFlushExample"},Je={class:"accordion-body sub"},Qe={class:"row"},Xe={key:0,class:"sub-accordions-body"},Ye=["name","value","id"],Ze=["for"],et={class:"col-lg-1 apply-btn d-lg-block d-none"},tt={class:"apply-side"},st=e("img",{src:le,alt:"find"},null,-1),ot=[st],at={class:"col-lg-1 apply-btn d-lg-none d-lg-block"},lt=e("button",{class:"btn w-100 apply",title:"Apply Filters"},[e("img",{src:le,alt:"find"})],-1),nt=[lt],it=e("div",{class:"accordion accordion-flush d-lg-none d-lg-block mobile-filters",id:"accordionFlushExample"},null,-1),ct={__name:"Search-Filter",emits:["EmitFilterDestination","EmitTotalElements","EmitCurrentPage"],setup(F,{emit:N}){const A=ee(),{t:I}=de(),s=B("Filters"),p=B("InProgress"),h=te("Destinations"),u=N;p.value=!1;const f=i(0),g=new Date,v=i({Dates:[],UnParsedDates:[]}),x=i({}),C=i({countryId:225,fipsCode:"07",id:2169,latitude:37.0951672,longitude:31.0793705,name:"Antalya"});i({id:1,name:"Residence"});const M=i([]),S=i([]),R=i([]),$=i(Number),E=i({}),V=i({}),K=i({});i(null);const D=i(!1);Q(async()=>{$.value=T().GetScreenWidth(),D.value=$.value>996,await n(),await k(),await L(),await j()});const W=async()=>{D.value=!($.value<996),p.value=!0,document.querySelectorAll(".accordion-collapse").forEach(b=>{b.classList.contains("show")&&b.classList.remove("show")});let c=null,o=null;v.value.Dates?(c=T().DateFormatter(v.value.Dates[0]),o=T().DateFormatter(v.value.Dates[1])):(c=T().DateFormatter(new Date),o=T().DateFormatter(new Date().setDate(new Date().getDate()+3))),s.value.Dates[0]=c,s.value.Dates[1]=o,R.value=document.querySelectorAll(".neighborhoods-side .form-check-input[type='checkbox']");let y={ItemID:[],ItemName:[]};y.ItemID=Array.from(R.value).filter(b=>b.checked==!0).map(b=>b.id),y&&(s.value.SubCities=y);const t=document.querySelectorAll('.sub-accordions input[type="checkbox"]');let m={ItemID:[]};m.ItemID=Array.from(t).filter(b=>b.checked==!0).map(b=>b.id),m&&(s.value.DTO=m);const H=document.querySelectorAll('.estate-side input[type="checkbox"]');let Y={ItemID:[]};Y.ItemID=Array.from(H).filter(b=>b.checked==!0).map(b=>b.id),Y&&(s.value.Projects=Y),s.value.CurrentPage&&(s.value.CurrentPage=0);const se=await U().GetFilteredDestinations(s.value);h.value=se.data.content,f.value=se.data.totalElements,u("EmitTotalElements",f.value),u("EmitFilterDestination",h.value),u("EmitCurrentPage",0),await j(),p.value=!1},L=async()=>{M.value=[{id:7,name:"First Class"},{id:3,name:"Glory Life"},{id:6,name:"Sirius Town"},{id:8,name:"Panaroma"}]},j=async()=>{if(s.value){if(s.value.City&&(C.value=s.value.City),s.value.SubCities&&S.value.forEach(c=>{const y=s.value.SubCities.ItemID;if(y){const t=c.id,m=y.includes(t.toString());c.checked=m}}),s.value.DTO){let c=s.value.DTO;if(c.ItemID&&c.ItemID.length>0){let o=s.value.DTO.ItemID;document.querySelectorAll('.sub-accordions input[type="checkbox"]').forEach(t=>{const m=t.id,H=m&&o.includes(m.toString());t.checked=H})}}if(s.value.Projects){let c=s.value.Projects;if(c.ItemID&&c.ItemID.length>0){let o=s.value.Projects.ItemID;document.querySelectorAll('.estate-side input[type="checkbox"]').forEach(t=>{const m=t.id,H=m&&o.includes(m.toString());t.checked=H})}}s.value.Dates&&(v.value.Dates=s.value.Dates);const _=await U().GetFilteredDestinations(s.value);h.value=_.data.content,f.value=_.data.totalElements,u("EmitTotalElements",f.value),u("EmitFilterDestination",h.value)}else return A.push("/")},n=async()=>{const _=await U().GetCities();x.value=_.data,G()},k=async()=>{const _=await U().GetPropertiesAndRooms();E.value=_.data,V.value=E.value.propertyDTO,K.value=E.value.roomInfo},G=()=>{const _=[{id:1,name:"Kadriye",checked:!1},{id:2,name:"Kundu",checked:!1},{id:3,name:"Belek",checked:!1},{id:4,name:"Boğazkent",checked:!1},{id:5,name:"Kepez",checked:!1},{id:6,name:"Konyaaltı",checked:!1},{id:7,name:"Muratpaşa",checked:!1}];S.value=_},q=async()=>{D.value=D.value!=!0,setTimeout(async()=>{await j()},400)};return z(()=>v.value.UnParsedDates,(_,c)=>{s.value.UnParsedDates=[_.toString(),c.toString()]}),z(()=>{v.value,C.value,x.value,S.value}),(_,c)=>(a(),l("div",ge,[e("div",De,[e("button",{type:"button",class:"m-filter-btn d-lg-none d-lg-block",onClick:q},d(_.$t("Filters"))+" ⇌ ",1),r(D)?(a(),l("div",ye,[e("div",Ce,[re(e("select",{name:"cities",id:"cities","onUpdate:modelValue":c[0]||(c[0]=o=>r(C).id=o)},[(a(!0),l(w,null,O(r(x),o=>(a(),l("option",{key:o.id,value:o.id},d(o.name),9,$e))),128))],512),[[ue,r(C).id]])]),e("div",Ie,[e("div",Se,[e("h2",Pe,[e("button",Fe,d(_.$t("Area")),1)]),e("div",xe,[e("div",Ee,[(a(!0),l(w,null,O(r(S),o=>(a(),l("div",{class:"col-lg-12",key:o.id},[e("div",we,[e("input",{class:"form-check-input",type:"checkbox",name:o.name,value:o.id,id:o.id,checked:o.checked},null,8,Te),e("label",{class:"form-check-label",for:o.id},d(o.name),9,Ae)])]))),128))])])])]),e("div",Me,[e("div",Re,[e("h2",Ve,[e("button",Le,d(_.$t("Residence")),1)]),e("div",Ge,[e("div",Oe,[(a(!0),l(w,null,O(r(M),o=>(a(),l("div",{class:"col-lg-12",key:o.id},[e("div",Ne,[e("input",{class:"form-check-input",type:"checkbox",name:o.name,value:o.id,id:"estate-"+o.id,checked:o.checked},null,8,qe),e("label",{class:"form-check-label",for:"estate-"+o.id},d(o.name),9,je)])]))),128))])])])]),e("div",He,[P(r(ve),{modelValue:r(v).Dates,"onUpdate:modelValue":c[1]||(c[1]=o=>r(v).Dates=o),range:"","enable-time-picker":!1,"multi-calendars":{solo:!0},"auto-apply":"","min-date":r(g),"min-range":"3",placeholder:r(I)("CheckInOut")},null,8,["modelValue","min-date","placeholder"])]),e("div",Ue,[e("div",Be,[e("h2",ze,[e("button",Ke,d(_.$t("MoreDetails")),1)]),e("div",We,[e("div",Je,[e("div",Qe,[(a(!0),l(w,null,O(r(V),(o,y)=>(a(),l("div",{class:"col-lg-2 sub-accordions mt-3",key:y},[e("div",null,[e("h2",null,d(o.name),1),o.propertyDetail?(a(),l("div",Xe,[(a(!0),l(w,null,O(o.propertyDetail,t=>(a(),l("div",{class:"form-check",key:t},[e("input",{class:"form-check-input",type:"checkbox",name:t.name,value:t.id,id:"p-"+t.id},null,8,Ye),e("label",{class:"form-check-label",for:"p-"+t.id},d(t.name),9,Ze)]))),128))])):J("",!0)])]))),128))])])])])]),e("div",et,[e("div",tt,[e("button",{onClick:c[2]||(c[2]=o=>W()),class:"btn w-100 apply",title:"Apply Filters"},ot)])]),e("div",at,[e("div",{class:"apply-side",onClick:c[3]||(c[3]=o=>W())},nt)])])):J("",!0)]),it]))}},dt=ct;const rt={__name:"Map-Component",props:{Destinations:{type:Array,default:()=>[]}},emits:["EmitVisibleDestinations"],setup(F,{emit:N}){const A=ae();i([]);const I=F,s=i(""),p=i(null);let h;Q(async()=>{const f=A.public.CRM_HOST;s.value=`${f}/files/IMAGE/`,h=await _e(()=>import("./leaflet-src.20dcb89b.js").then(g=>g.l),["./leaflet-src.20dcb89b.js","./_commonjsHelpers.725317a4.js"],import.meta.url),p.value=h.map(p.value).setView([36.8841,30.7056],10),h.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png").addTo(p.value),u()});const u=()=>{I.Destinations.length<1||I.Destinations.forEach(f=>{const{id:g,name:v,address:x,media:C,numberOfPeople:M,squareMeters:S,estateRoomInfos:R}=f;let $="",E=0,V=0;R.forEach(D=>{D.roomInfoId===1&&(V=D.value),D.roomInfoId===2&&(E=D.value)}),C[0]&&C[0].url?$=s.value+C[0].url:$="/assets/layout/404-not-found.png",h.marker([x.latitude,x.longitude]).addTo(p.value).bindPopup(`
        <div class="map-popup">
          <img class="map-thumb" src="${$}" loading="lazy"/>
          <b style="padding: 4px 0 0 0; position: relative; display: block;">${v}</b>
          <div style="margin:4px 0">
            <span> ✓ ${S} m&sup2;</span>&nbsp;<span> ✓ ${M} kişi</span>
            &nbsp;<span> ✓ ${V} yatak</span>&nbsp;<span> ✓ ${E} banyo</span>
          </div>
          <div class="row">
            <div class="col d-flex justify-content-start">
              <a href="/destinations/${g}" title="${v}" class="link">İncele ›</a>
            </div>
            <div class="col d-flex justify-content-end">
              <span data-bs-toggle="modal" data-bs-target="#callbackModal" style="align-self:center; cursor:pointer; text-decoration:underline">
                Temsilciye ulaşın
              </span>
            </div>
          </div> 
        </div>
      `)})};return z(()=>I.Destinations,()=>{u()},{deep:!0}),(f,g)=>(a(),l("div",{ref_key:"MapRef",ref:p,class:"map-container"},null,512))}},ut=rt,_t={__name:"Leaflet",emits:["EmitVisibleDestinationsData"],setup(F,{emit:N}){const A=N,I=te("Destinations");let s=i([]);const p=i(1);Q(async()=>{setTimeout(async()=>{s.value=I.value},400)});const h=u=>{A("EmitVisibleDestinationsData",u)};return z(()=>{p.value,s.value}),(u,f)=>{const g=ut;return a(),l("div",null,[P(g,{Destinations:r(s),onEmitVisibleDestinations:h},null,8,["Destinations"])])}}},mt=_t,pt=""+globalThis.__publicAssetsURL("assets/icons/square-meter.svg"),vt=""+globalThis.__publicAssetsURL("assets/icons/person.svg");const X=F=>(me("data-v-47d7ed67"),F=F(),pe(),F),ht={class:"container-fluid homes-page"},ft={key:0},bt={key:1},kt={key:0},gt={class:"my-5 mx-4 no-res"},Dt={class:"text-danger"},yt=["title"],Ct={key:1,class:"row pb-5"},$t={class:"col-xl-7 col-lg-12 mt-2 left-side"},It={class:"card col-lg-12"},St={class:"col container-side"},Pt={class:"col-lg-12"},Ft=["src","alt","title","onClick"],xt=["onClick"],Et={class:"col-lg-12"},wt={class:"card-body"},Tt={class:"row"},At={class:"col-lg-12 px-3"},Mt=["title","onClick"],Rt=["title","onClick"],Vt={class:"card-text location"},Lt={class:"row"},Gt={class:"col-lg-2"},Ot={class:"card-text include"},Nt=X(()=>e("img",{src:pt,alt:"square",class:"s-icons"},null,-1)),qt={class:"col-lg-2"},jt={class:"card-text include"},Ht=X(()=>e("img",{src:vt,alt:"people",class:"s-icons"},null,-1)),Ut={class:"features"},Bt={key:0},zt={class:"row bottom"},Kt={class:"col-8",style:{"padding-right":"0"}},Wt={key:0,class:"price"},Jt={key:1,class:"text-danger"},Qt={key:2,class:"opacity-50"},Xt={class:"col-4 text-end"},Yt=["onClick","title"],Zt={class:"col-lg-5 mt-2 d-none d-xl-block"},es={class:"map-side"},ts={class:"row mt-5"},ss={class:"col-lg-12"},os={class:"pagination"},as=["disabled"],ls=X(()=>e("span",null," ‹ ",-1)),ns=[ls],is=["disabled"],cs=X(()=>e("span",null,"›",-1)),ds=[cs],rs={__name:"index",setup(F){const N=ee();fe();const A=ae(),I=B("Coordinates"),s=B("Filters"),p=B("InProgress");p.value=!0;const h=te("Destinations"),u=i(0),f=i(),g=i(),v=i([]),x=i({}),C=i(""),M=i(0);Q(async()=>{const n=A.public.CRM_HOST;C.value=`${n}/files/IMAGE/`,s.value&&s.value.CurrentPage&&(u.value=s.value.CurrentPage),$()});const S=()=>{M.value=T().CalculateNights(s.value.Dates[0],s.value.Dates[1])},R=async n=>{p.value=!0,n>=0&&n<=f.value&&(u.value=s.value.CurrentPage=n,$())},$=async()=>{S(),await E()},E=async()=>{const n=await U().GetFilteredDestinations(s.value);h.value=v.value=n.data.content,p.value=!1},V=n=>{S(),v.value=n},K=n=>{f.value=n,g.value=Math.floor(f.value/10)},D=n=>{u.value=n},W=async()=>{s.value.SubCities=[],s.value.DTO=[],s.value.CurrentPage=0;const n=T().DateFormatter(new Date),k=T().DateFormatter(new Date().setDate(new Date().getDate()+3));s.value.Dates[0]=n,s.value.Dates[1]=k,N.go()},L=async n=>{p.value=!0;const k=v.value.filter(_=>_.id==n);let G={latitude:null,longitude:null};G.latitude=k[0].address.latitude,G.longitude=k[0].address.longitude,I.value=G;let q=ee();n&&q.push(`destinations/${n}`)};z(()=>{x.value,v.value,p.value,h.value});const j=n=>{console.log("EmitVisibleDestinationsData",n)};return(n,k)=>{const G=ie,q=ce,_=ne,c=dt,o=he,y=mt;return a(),l(w,null,[P(_,null,{default:oe(()=>[P(G,null,{default:oe(()=>[Z(d(n.$t("PremiumAccommodation"))+" | Geccele",1)]),_:1}),P(q,{name:"keywords",content:"geccele, destinations, places to visit in Turkey"}),P(q,{name:"description",content:"Geccele destinations"})]),_:1}),P(c,{onEmitFilterDestination:V,onEmitTotalElements:K,onEmitCurrentPage:D}),e("div",ht,[r(p)?(a(),l("div",ft,[P(o)])):(a(),l("div",bt,[r(v).length==0?(a(),l("div",kt,[e("div",gt,[e("p",Dt,"* "+d(n.$t("emptyResForSearchCriteria")),1),e("button",{class:"btn",type:"button",title:n.$t("ClearFilters"),onClick:k[0]||(k[0]=t=>W())},d(n.$t("ClearFilters")),9,yt)])])):(a(),l("div",Ct,[e("div",$t,[(a(!0),l(w,null,O(r(v),t=>(a(),l("div",{key:t,class:"col-xl-6"},[e("div",It,[e("div",St,[e("div",Pt,[t.media[0]?(a(),l("img",{key:0,src:r(C)+t.media[0].url,class:"card-img",alt:t.name,loading:"lazy",title:t.name,onClick:m=>L(t.id)},null,8,Ft)):(a(),l("img",{key:1,src:be,class:"card-img",alt:"Geccele Not Found",onClick:m=>L(t.id)},null,8,xt))]),e("div",Et,[e("div",wt,[e("div",Tt,[e("div",At,[t.name.length>85?(a(),l("h5",{key:0,class:"card-title",title:t.name,onClick:m=>L(t.id)},d(t.name.slice(0,85))+"... ",9,Mt)):(a(),l("h5",{key:1,class:"card-title",title:t.name,onClick:m=>L(t.id)},d(t.name),9,Rt)),e("p",Vt,d(t.address.subCity)+" - "+d(t.address.city),1),e("div",Lt,[e("div",Gt,[e("p",Ot,[Nt,e("b",null,d(t.squareMeters),1),Z(" m² ")])]),e("div",qt,[e("p",jt,[Ht,e("b",null,d(t.numberOfPeople),1),Z(" "+d(n.$t("People")),1)])])]),e("div",Ut,[t.estatePropertyDetails?(a(),l("ul",Bt,[(a(!0),l(w,null,O(t.estatePropertyDetails.slice(0,5),m=>(a(),l("li",{key:m}," ✓ "+d(m.name),1))),128))])):J("",!0)]),e("div",zt,[e("div",Kt,[t.price?(a(),l("span",Wt,d(Math.ceil(t.price.totalAccommodationFee*36.5533/r(M)).toLocaleString("tr-TR"))+" ₺ ",1)):(a(),l("span",Jt,"Price is not found.")),t.price?(a(),l("small",Qt,d(n.$t("PricesStartingFrom")),1)):J("",!0)]),e("div",Xt,[e("span",{onClick:m=>L(t.id),class:"btn",title:t.name},d(n.$t("ViewDetails"))+" › ",9,Yt)])])])])])])])])]))),128))]),e("div",Zt,[e("div",es,[P(y,{onEmitVisibleDestinationsData:j})])]),e("div",ts,[e("div",ss,[e("div",os,[e("button",{onClick:k[1]||(k[1]=t=>R(r(u)-1)),disabled:r(u)===0},ns,8,as),e("span",null,"Page "+d(r(u))+" / "+d(r(g)),1),e("button",{onClick:k[2]||(k[2]=t=>R(r(u)+1)),disabled:r(u)===r(g)},ds,8,is)])])])]))]))])],64)}}},ys=ke(rs,[["__scopeId","data-v-47d7ed67"]]);export{ys as default};
