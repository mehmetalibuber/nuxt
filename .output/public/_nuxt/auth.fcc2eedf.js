import{a7 as u,j as f,a8 as m}from"./entry.9a02144e.js";import{u as i}from"./cookie.e9d56610.js";import{A as d}from"./AuthComposable.dc84fb17.js";import"./axiosConfig.d247a524.js";const A=u(async(e,g)=>{let t,a;const s=f(),n=i("User"),o=i("i18n_redirected");if(e.fullPath.includes("/login")||e.fullPath.includes("/register"))return;const c=async()=>{try{await d().GetUserInformations()=="Access Denied"&&await l()}catch(r){console.error("Error during token expiry control:",r)}},l=async()=>{try{localStorage.removeItem("AccessToken")}catch(r){console.error("Error removing access token from localStorage:",r)}n.value=null,await s.push("/user/login")};if(!n.value)try{const r=o.value&&o.value.toString()!=="tr"?`/${o.value.toString()}/user/login`:"/user/login";return localStorage.setItem("RedirectAfterLogin",e.fullPath),s.push(r)}catch(r){console.error("Error during redirection:",r)}[t,a]=m(()=>c()),await t,a()});export{A as default};
