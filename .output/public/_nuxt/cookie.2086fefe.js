import{r as p,J as l,m,ay as w,a0 as y,a1 as h}from"./entry.3d77523d.js";const u=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function g(e,r){if(typeof e!="string")throw new TypeError("argument str must be a string");const o={},s=(r||{}).decode||k;let a=0;for(;a<e.length;){const t=e.indexOf("=",a);if(t===-1)break;let n=e.indexOf(";",a);if(n===-1)n=e.length;else if(n<t){a=e.lastIndexOf(";",t-1)+1;continue}const c=e.slice(a,t).trim();if(o[c]===void 0){let d=e.slice(t+1,n).trim();d.codePointAt(0)===34&&(d=d.slice(1,-1)),o[c]=S(d,s)}a=n+1}return o}function f(e,r,o){const i=o||{},s=i.encode||C;if(typeof s!="function")throw new TypeError("option encode is invalid");if(!u.test(e))throw new TypeError("argument name is invalid");const a=s(r);if(a&&!u.test(a))throw new TypeError("argument val is invalid");let t=e+"="+a;if(i.maxAge!==void 0&&i.maxAge!==null){const n=i.maxAge-0;if(Number.isNaN(n)||!Number.isFinite(n))throw new TypeError("option maxAge is invalid");t+="; Max-Age="+Math.floor(n)}if(i.domain){if(!u.test(i.domain))throw new TypeError("option domain is invalid");t+="; Domain="+i.domain}if(i.path){if(!u.test(i.path))throw new TypeError("option path is invalid");t+="; Path="+i.path}if(i.expires){if(!x(i.expires)||Number.isNaN(i.expires.valueOf()))throw new TypeError("option expires is invalid");t+="; Expires="+i.expires.toUTCString()}if(i.httpOnly&&(t+="; HttpOnly"),i.secure&&(t+="; Secure"),i.priority)switch(typeof i.priority=="string"?i.priority.toLowerCase():i.priority){case"low":t+="; Priority=Low";break;case"medium":t+="; Priority=Medium";break;case"high":t+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}if(i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:t+="; SameSite=Strict";break;case"lax":t+="; SameSite=Lax";break;case"strict":t+="; SameSite=Strict";break;case"none":t+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return t}function x(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function S(e,r){try{return r(e)}catch{return e}}function k(e){return e.includes("%")?decodeURIComponent(e):e}function C(e){return encodeURIComponent(e)}const b={path:"/",watch:!0,decode:e=>w(decodeURIComponent(e)),encode:e=>encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))};function A(e,r){var a;const o={...b,...r},i=E(o)||{},s=p(i[e]??((a=o.default)==null?void 0:a.call(o)));{const t=typeof BroadcastChannel>"u"?null:new BroadcastChannel(`nuxt:cookies:${e}`),n=()=>{T(e,s.value,o),t==null||t.postMessage(o.encode(s.value))};let c=!1;y()&&h(()=>{c=!0,n(),t==null||t.close()}),t&&(t.onmessage=d=>{c=!0,s.value=o.decode(d.data),l(()=>{c=!1})}),o.watch?m(s,()=>{c||n()},{deep:o.watch!=="shallow"}):n()}return s}function E(e={}){return g(document.cookie,e)}function v(e,r,o={}){return r==null?f(e,r,{...o,maxAge:-1}):f(e,r,o)}function T(e,r,o={}){document.cookie=v(e,r,o)}export{A as u};
